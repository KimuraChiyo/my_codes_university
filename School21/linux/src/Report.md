## Part 1. Установка ОС

**== Задание ==**

##### Установи **Ubuntu 20.04 Server LTS** без графического интерфейса. (Используем программу для виртуализации - VirtualBox)

- Узнай версию Ubuntu, выполнив команду \
`cat /etc/issue.`
- Вставь скриншот с выводом команды.
<img src="./screens/1_cat_etc_issue.jpg" alt="cat etc/issue result" width="500"/>

## Part 2. Создание пользователя

**== Задание ==**

##### Создай пользователя, отличного от созданного при установке. Пользователь должен быть добавлен в группу `adm`.

- Вставь скриншот вызова команды для создания пользователя.
<img src="./screens/2.1_useradd.jpg" alt="useradd command" width="500"/>

- Новый пользователь должен быть в выводе команды \
`cat /etc/passwd`
- Вставь скриншот с выводом команды.
<img src="./screens/2.2_cat_etc_passwd.jpg" alt="cat etc/passwd result"/>


## Part 3. Настройка сети ОС

**== Задание ==**

##### Задай название машины вида user-1.
<img src="./screens/3.1_hostnamectl.jpg" alt="hostnamectl result" width="800"/>

##### Установи временную зону, соответствующую твоему текущему местоположению. 
 - $ timedatectl list-timezones - получаем список доступных часовых поясов и находим нужный(Europe/Moscow)
<img src="./screens/3.2_timedatectl.jpg" alt="timedatectl result" width="500"/>

##### Выведи названия сетевых интерфейсов с помощью консольной команды.
<img src="./screens/3.3_ip_addr.jpg" alt="ip addr result" width="800"/><br>
- В отчёте дай объяснение наличию интерфейса lo.<br>
Интерфейс lo - виртуальный интерфейс, присутствующий в Linux по умолчанию.
Интерфейс замыкается на себя, используется для отладки сетевых программ на текущем устройстве и обладает dns-именем <b><i>localhost</i></b>.

##### Используя консольную команду, получи ip адрес устройства, на котором ты работаешь, от DHCP сервера. 
<img src="./screens/3.4_ip_addr_not_lo.jpg" alt="ip addr only eno0s3 result" width="800"/><br>
IP адрес текущего устройства: <b><i>10.0.2.15</i></b>.<br>
DHCP расшифровывается как <b>D</b>ynamic <b>H</b>ost <b>C</b>onfiguration <b>P</b>rotocol и используется для автоматического присваивания параметров связи для устройств в сети.

##### Определи и выведи на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw). 
<img src="./screens/3.5.1_external_ip.jpg" alt="ip addr only eno0s3 result" width="800"/><br>
Внешний IP адрес: <b><i>176.52.79.196</i></b>.<br>
<img src="./screens/3.5.2_internal_ip.jpg" alt="ip addr only eno0s3 result" width="800"/><br>
Внутренний IP адрес: <b><i>10.0.2.2</i></b>.<br>

##### Задай статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (используй публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).  
- $ sudo nano /etc/netplan/00-installer-config.yaml - с помощью nano редактируем файл настроек сети.
<br>Изменённый файл:<br>
<img src="./screens/3.6_configure_static_settings.jpg" alt="configure static settings" width="800"/><br>
- $ sudo netplan apply - чтобы сохранить изменения настроек.

##### Перезагрузи виртуальную машину. Убедись, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.  
- $ reboot - для перезагрузки
- $ ip addr - для проверки сетевых настроек<br>
<img src="./screens/3.7_ip_addr_after_reboot.jpg" alt="ip addr static settings" width="800"/><br>

- Успешно пропингуй удаленные хосты 1.1.1.1 и ya.ru и вставь в отчёт скрин с выводом команды. В выводе команды должна быть фраза «0% packet loss».<br>
<img src="./screens/3.8.1_ping_1111.jpg" alt="ping 1.1.1.1" width="800"/><br>
<img src="./screens/3.8.2_ping_yaru.jpg" alt="ping ya.ru" width="800"/><br>

## Part 4. Обновление ОС

**== Задание ==**

##### Обнови системные пакеты до последней на момент выполнения задания версии.  
- $ sudo apt update - для проверки обновлений
- $ sudo apt upgrade - для обновления

- После обновления системных пакетов, если ввести команду обновления повторно, должно появиться сообщение, что обновления отсутствуют;
- Вставь скриншот с этим сообщением в отчёт.

<img src="./screens/4_apt_upgrade.jpg" alt="apt upgrade done" width="800"/><br>

## Part 5. Использование команды **sudo**

**== Задание ==**

##### Разреши пользователю, созданному в [Part 2](#part-2-создание-пользователя),выполнять команду sudo.
<img src="./screens/5.1_usermod_ironmakr1_sudo.jpg" alt="adding ironmakr1 to sudoers" width="800"/><br>

- В отчёте объясни *истинное* назначение команды sudo (про то, что это слово - «волшебное», писать не стоит);

sudo - позволяет выполнять команды от имени суперпользователя или root. Доступ к sudo по умолчанию предоставляется пользователю, созданному при установке. При наличии root-прав у пользователя расширяются границы доступа к системе.

- Поменяй hostname ОС от имени пользователя, созданного в пункте [Part 2](#part-2-создание-пользователя) (используя sudo);
- Вставь скрин с изменённым hostname в отчёт.<br>
<img src="./screens/5.2_hostname_change_by_ironmakr1.jpg" alt="change hostname by ironmakr1" width="800"/><br>

## Part 6. Установка и настройка службы времени

**== Задание ==**

##### Настрой службу автоматической синхронизации времени.  

- Выведи время часового пояса, в котором ты сейчас находишься.
<img src="./screens/6.1_timedatectl.jpg" alt="timedatectl part6" width="800"/><br>

- Вывод следующей команды должен содержать `NTPSynchronized=yes`: \
  `timedatectl show`
- Вставь скрины с корректным временем и выводом команды в отчёт.
<img src="./screens/6.2_timedatectl_show.jpg" alt="timedatectl show part6" width="800"/><br>


## Part 7. Установка и использование текстовых редакторов 

**== Задание ==**

##### Установи текстовые редакторы **VIM** (+ любые два по желанию **NANO**, **MCEDIT**, **JOE** и т.д.) 
- $ sudo apt install vim
- $ sudo apt install nano
- $ sudo apt install mcedit

##### Используя каждый из трех выбранных редакторов, создай файл *test_X.txt*, где X -- название редактора, в котором создан файл. Напиши в нём свой никнейм, закрой файл с сохранением изменений.  
- В отчёт вставь скриншоты:
  - Из каждого редактора с содержимым файла перед закрытием;
- В отчёте укажи, что сделал для выхода с сохранением изменений.


**VIM:**
- $ vim text_VIM.txt + клавиша i(после открытия редактора)- для создания и начала редактирования файла
<img src="./screens/7.1.1_test_VIM_file.jpg" alt="vim ironmakr and quit" width="800"/><br>
- Для выхода с сохранением изменений необходимо перевести VIM в командный режим нажав ESC, а затем ввести :wq

**NANO:**
- $ nano text_NANO.txt - для создания и начала редактирования файла
<img src="./screens/7.1.2_test_NANO_file.jpg" alt="nano ironmakr and quit" width="800"/><br>
- Для выхода с сохранением изменений необходимо нажать комбинацию Ctrl+O, затем Enter, потом Ctrl+X

**MCEDIT:**
- $ mcedit text_MCEDIT.txt - для создания и начала редактирования файла
<img src="./screens/7.1.3_test_MCEDIT_file.jpg" alt="mcedit ironmakr and quit" width="800"/><br>
- Для выхода с сохранением изменений необходимо нажать F2, выбрать [ Сохранить ], нажать Enter, потом F10


##### Используя каждый из трех выбранных редакторов, открой файл на редактирование, отредактируй файл, заменив никнейм на строку «21 School 21», закрой файл без сохранения изменений.
- В отчёт вставь скриншоты:
    - Из каждого редактора с содержимым файла после редактирования;
- В отчёте укажи, что сделал для выхода без сохранения изменений.

**VIM:**
- $ vim text_VIM.txt + клавиша i(после открытия редактора)- для начала редактирования файла
<img src="./screens/7.2.1_VIM_without_changes.jpg" alt="vim 21 School 21 and quit" width="800"/><br>
- Для выхода без сохранения изменений необходимо перевести VIM в командный режим нажав ESC, а затем ввести :q!

**NANO:**
- $ nano text_NANO.txt - для начала редактирования файла
<img src="./screens/7.2.2_NANO_without_changes.jpg" alt="nano 21 School 21 and quit" width="800"/><br>
- Для выхода без сохранения изменений необходимо нажать комбинацию Ctrl+X и нажать клавишу N

**MCEDIT:**
- $ mcedit text_MCEDIT.txt - для начала редактирования файла
<img src="./screens/7.2.3_MCEDIT_without_changes.jpg" alt="mcedit 21 School 21 and quit" width="800"/><br>
- Для выхода без сохранения изменений необходимо нажать F10 и выбрать [ НЕТ ]

##### Используя каждый из трех выбранных редакторов, отредактируй файл ещё раз (по аналогии с предыдущим пунктом), а затем освой функции поиска по содержимому файла (слово) и замены слова на любое другое.
- В отчёт вставь скриншоты:
    - Из каждого редактора с результатами поиска слова;
    - Из каждого редактора с командами, введёнными для замены слова на другое.

**VIM:**
- Поиск:<br>
<img src="./screens/7.3.1_VIM_find.jpg" alt="vim find" width="800"/><br>
- Замена:<br>
<img src="./screens/7.3.1_VIM_replace.jpg" alt="vim replace" width="800"/><br>

**NANO:**
- Поиск:<br>
Необходимо нажать комбинацию Ctrl + W, ввести нужную строку, затем нажать Enter, курсор перейдет к первому найденному вхождению(при повторных нажатиях Ctrl+W курсор будет переходить к следующим вхождениям)
<img src="./screens/7.3.2.1_NANO_find.jpg" alt="nano find" width="800"/><br>
<img src="./screens/7.3.2.2_NANO_find.jpg" alt="nano find" width="800"/><br>
- Замена:<br>
Необходимо нажать комбинацию Ctrl + /, ввести строку, которую нужно заменить, затем нажать Enter, ввести строку, которой нужно заменить, затем нажать Enter, затем курсор перейдет поочередно перейдёт к каждому вхождению и редактор будет спрашивать необходимо ли заменить это вхождение<br>
<img src="./screens/7.3.2.1_NANO_replace.jpg" alt="nano replace" width="800"/><br>
<img src="./screens/7.3.2.2_NANO_replace.jpg" alt="nano replace" width="800"/><br>
<img src="./screens/7.3.2.3_NANO_replace.jpg" alt="nano replace" width="800"/><br>
<img src="./screens/7.3.2.4_NANO_replace.jpg" alt="nano replace" width="800"/><br>

**MCEDIT:**
- Поиск:<br>
Для активации поиска необходимо нажать F7<br>
<img src="./screens/7.3.3.1_MCEDIT_find.jpg" alt="mcedit find" width="800"/><br>
<img src="./screens/7.3.3.2_MCEDIT_find.jpg" alt="mcedit find" width="800"/><br>
- Замена:<br>
Для активации поиска необходимо нажать F4<br>
<img src="./screens/7.3.3.1_MCEDIT_replace.jpg" alt="mcedit replace" width="800"/><br>
<img src="./screens/7.3.3.2_MCEDIT_replace.jpg" alt="mcedit replace" width="800"/><br>
<img src="./screens/7.3.3.3_MCEDIT_replace.jpg" alt="mcedit replace" width="800"/><br>

## Part 8. Установка и базовая настройка сервиса **SSHD**

**== Задание ==**

##### Установи службу SSHd.  
- $ sudo apt install ssh
- $ sudo apt install openssh-server

##### Добавь автостарт службы при загрузке системы. 
- $ sudo systemctl enable ssh<br>
После перезапуска можно проверить запуск этой службы при помощи команды:
- $ systemctl status ssh<br>
<img src="./screens/8.2_ssh_status.jpg" alt="ssh status" width="800"/><br>

##### Перенастрой службу SSHd на порт 2022.  
- $ sudo nano /etc/ssh/sshd_config - конфигурационный файл, в нём необходимо найти строку "#Port 22" и изменить номер порта на нужный(2022)<br>
<img src="./screens/8.3_port_2022.jpg" alt="port 2022" width="800"/><br>
- $ sudo systemctl restart sshd

##### Используя команду ps, покажи наличие процесса sshd. Для этого к команде нужно подобрать ключи.

<img src="./screens/8.4_ps_e_grep_sshd.jpg" alt="sshd process" width="800"/><br>
- В отчёте объясни значение команды и каждого ключа в ней.
<br>Команда выводит все процессы и выводит только строку, где встречается имя sshd. Ключ -A означает, что нужно показать все процессы.

##### Перезагрузи систему.
- В отчёте опиши, что сделал для выполнения всех пяти пунктов (можно как текстом, так и скриншотами).
- Вывод команды netstat -tan должен содержать  \
`tcp 0 0 0.0.0.0:2022 0.0.0.0:* LISTEN`  \
(если команды netstat нет, то ее нужно установить)
- Скрин с выводом команды вставь в отчёт.<br>
<img src="./screens/8.5_netstat_tan.jpg" alt="sshd process" width="800"/><br>
- В отчёте объясни значение ключей -tan, значение каждого столбца вывода, значение 0.0.0.0.<br>
- Ключ -t означает, что будут показаны только соединения с протоколом TCP.<br>
- Ключ -a означает, что будут показаны все соединения.<br>
- Ключ -n означает, что все адреса будут показаны в числовом формате, вместо символических имен хоста, порта или пользователя.<br>
- Proto - используемый протокол.<br>
- Recv-Q - текущий журнал синхронизации.<br>
- Send-Q - максимальный размер журнала синхронизации.<br>
- Local Address - адрес и номер порта локального конца сокета(если не указан -n, то адрес преобразуется в каноническое имя хоста, а порт в соответствующее имя службы).<br>
- Foreign Address - адрес и номер порта удаленного конца сокета(-n работает по аналогии с Local Address).<br>
- State - состояние сокета..<br>
- 0.0.0.0 - IP-адрес на локальной машине.<br>

## Part 9. Установка и использование утилит **top**, **htop**

**== Задание ==**

##### Установи и запусти утилиты top и htop.  

- По выводу команды top определи и напиши в отчёте:
  - uptime - 1:45
  - количество авторизованных пользователей - 1
  - общую загрузку системы - 0.03 0.02 0.00
  - общее количество процессов - 139
  - загрузку cpu - 0.0
  - загрузку памяти - 941.2/7945.2
  - pid процесса занимающего больше всего памяти - 2104
  - pid процесса, занимающего больше всего процессорного времени - 2723
- В отчёт вставь скрин с выводом команды htop:
  - отсортированному по PID, PERCENT_CPU, PERCENT_MEM, TIME
  <br>**PID**<br>
  <img src="./screens/9.1_htop_pid.jpg" alt="htop pid" width="800"/><br>
  **PERCENT_CPU**<br>
  <img src="./screens/9.2_htop_percent_cpu.jpg" alt="htop %cpu" width="800"/><br>
  **PERCENT_MEM**<br>
  <img src="./screens/9.3_htop_percent_mem.jpg" alt="htop %mem" width="800"/><br>
  **TIME**<br>
  <img src="./screens/9.4_htop_time.jpg" alt="htop time" width="800"/><br>
  - отфильтрованному для процесса sshd<br>
  <img src="./screens/9.5_htop_filter_sshd.jpg" alt="htop filter sshd" width="800"/><br>
  - с процессом syslog, найденным, используя поиск <br>
  <img src="./screens/9.6_htop_find_syslog.jpg" alt="htop find syslog" width="800"/><br>
  - с добавленным выводом hostname, clock и uptime<br>
  <img src="./screens/9.7_htop_clock_hostname_uptime.jpg" alt="htop added clock, hostname" width="800"/><br>


## Part 10. Использование утилиты **fdisk**

**== Задание ==**

##### Запусти команду fdisk -l.

- В отчёте напиши название жесткого диска, его размер и количество секторов, а также размер swap.
<br><img src="./screens/10.1_fdisk.jpg" alt="fdisk -l" width="800"/><br>
- Название: VBOX HARDDISK
- Размер; 60GiB
- Количество секторов: 125829120
<br><img src="./screens/10.2_swapon.jpg" alt="swapon" width="500"/><br>
- Размер swap: 4GiB

## Part 11. Использование утилиты **df** 

**== Задание ==**

##### Запусти команду df.  
- В отчёте напиши для корневого раздела (/):
  - размер раздела - 29751268
  - размер занятого пространства - 7019692
  - размер свободного пространства - 21194964
  - процент использования - 25%
<br><img src="./screens/11.1_df.jpg" alt="df" width="800"/><br>
- Определи и напиши в отчёт единицу измерения в выводе.<br>Используемая единица измерения - килобайт(1K-blocks).

##### Запусти команду df -Th.
- В отчёте напиши для корневого раздела (/):
    - размер раздела - 29G
    - размер занятого пространства - 6,7G
    - размер свободного пространства - 21G
    - процент использования - 25%
<br><img src="./screens/11.2_df_Th.jpg" alt="df -Th" width="800"/><br>
- Определи и напиши в отчёт тип файловой системы для раздела.
<br>Используемый тип файловой системы - ext4.

## Part 12. Использование утилиты **du**

**== Задание ==**

##### Запусти команду du
##### Выведи размер папок /home, /var, /var/log (в байтах, в человекочитаемом виде)
<img src="./screens/12.1_du_bytes.jpg" alt="du bytes" width="800"/><br>
<br><img src="./screens/12.2_du_humanread.jpg" alt="du humanread" width="800"/><br>

##### Выведи размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)
<img src="./screens/12.3_du_varlog.jpg" alt="du varlog" width="800"/><br>
- В отчёт вставь скрины с выводом всех использованных команд.

## Part 13. Установка и использование утилиты **ncdu**

**== Задание ==**

##### Установи утилиту ncdu
- $ sudo apt install ncdu

##### Выведи размер папок /home, /var, /var/log

- Размеры должны примерно совпадать с полученными в [Part 12](#part-12-использование-утилиты-du).
- В отчёт вставь скрины с выводом использованных команд.
- $ ncdu /home
<br><img src="./screens/13.1_ncdu_home.jpg" alt="ncdu home" width="800"/><br>
- $ ncdu /var
<br><img src="./screens/13.2_ncdu_var.jpg" alt="ncdu var" width="800"/><br>
- $ ncdu /var/log
<br><img src="./screens/13.3_ncdu_varlog.jpg" alt="ncdu varlog" width="800"/><br>

## Part 14. Работа с системными журналами

**== Задание ==**

##### Открой для просмотра:
##### 1. /var/log/dmesg
- $ sudo nano /var/log/dmesg
##### 2. /var/log/syslog
- $ sudo nano /var/log/syslog
##### 3. /var/log/auth.log  
- $ sudo nano /var/log/auth.log

- Напиши в отчёте время последней успешной авторизации, имя пользователя и метод входа в систему;
(May 7 21:28:16 ironmakr by LOGIN)
- Перезапусти службу SSHd;
- $ sudo systemctl restart sshdput
- Вставь в отчёт скрин с сообщением о рестарте службы (искать в логах).
<br><img src="./screens/14.1_syslog_restart_sshd.jpg" alt="syslog restart sshd" width="800"/><br>

## Part 15. Использование планировщика заданий **CRON**

**== Задание ==**

##### Используя планировщик заданий, запусти команду uptime через каждые 2 минуты.
- Найди в системных журналах строчки (минимум две в заданном временном диапазоне) о выполнении;
<br><img src="./screens/15.1_cron_logs.jpg" alt="cron logs" width="800"/><br>
- Выведи на экран список текущих заданий для CRON;
<br><img src="./screens/15.2_cron_tasks.jpg" alt="cron tasks" width="800"/><br>
- Вставь в отчёт скрины со строчками о выполнении и списком текущих задач.

##### Удали все задания из планировщика заданий.
- В отчёт вставь скрин со списком текущих заданий для CRON.
<br><img src="./screens/15.3_cron_delete_tasks.jpg" alt="cron deleted tasks" width="800"/><br>
